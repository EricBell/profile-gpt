<!-- Copyright Polymorph Corporation (2026) -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ask Eric</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body data-max-queries="{{ max_queries }}" data-total-turns="{{ total_turns }}">
    <!-- Mode Selection View -->
    <div class="mode-selection" id="mode-selection">
        <h2>Ask Eric</h2>
        <p>Choose how you'd like to interact</p>
        <div class="mode-buttons">
            <button class="mode-button" id="chat-mode-btn">
                <h3>Chat with Eric</h3>
                <p>Ask questions about Eric's experience, skills, and working style</p>
            </button>
            <button class="mode-button" id="vetting-mode-btn">
                <h3>Check Job Fit</h3>
                <p>Paste a job description to see how well Eric matches</p>
            </button>
        </div>
        <!-- Add suggestion hint -->
        <div class="suggestion-hint">
            <p class="hint-text">Not sure where to start?</p>
            <button class="suggestion-link" data-suggestion="How do I use this?">
                How do I use this?
            </button>
        </div>
    </div>

    <!-- Chat View -->
    <div class="chat-view" id="chat-view">
        <div class="header">
            <button class="back-button" id="chat-back-btn">Back</button>
            <h1>Chat with Eric</h1>
        </div>

        <div class="chat-container" id="chat-container">
            <div class="welcome-message" id="welcome">
                <h2>Welcome!</h2>
                <p>Ask me anything about Eric Bell's professional experience, skills, and working style.</p>
                <div class="suggestion-buttons">
                    <button class="suggestion-button" data-suggestion="How do I use this?">
                        <span class="suggestion-icon">?</span>
                        <span class="suggestion-text">How do I use this?</span>
                    </button>
                    <button class="suggestion-button" data-suggestion="What are Eric's top skills?">
                        <span class="suggestion-icon">â˜…</span>
                        <span class="suggestion-text">What are Eric's top skills?</span>
                    </button>
                    <button class="suggestion-button" data-suggestion="Tell me about Eric's AI experience">
                        <span class="suggestion-icon">ðŸ¤–</span>
                        <span class="suggestion-text">Tell me about Eric's AI experience</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="input-container">
            <div class="input-wrapper">
                <textarea
                    id="message-input"
                    class="input-box"
                    placeholder="Ask a question..."
                    rows="1"
                    maxlength="{{ max_query_length }}"
                ></textarea>
                <button id="send-button" class="send-button">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 2L11 13M22 2L15 22L11 13M11 13L2 9L22 2"/>
                    </svg>
                </button>
            </div>
            <div id="error-container" class="error-message" style="display: none;"></div>
        </div>
    </div>

    <!-- Vetting View -->
    <div class="vetting-view" id="vetting-view">
        <div class="header">
            <button class="back-button" id="vetting-back-btn">Back</button>
            <h1>Check Job Fit</h1>
        </div>

        <div class="vetting-container">
            <div class="vetting-content">
                <div class="vetting-intro">
                    <h2>Job Match Analysis</h2>
                    <p>Paste a job description below to see how well Eric's background matches the role.</p>
                </div>

                <div class="job-input-area">
                    <textarea
                        id="job-description"
                        class="job-textarea"
                        placeholder="Paste the job description here..."
                        maxlength="{{ max_job_description_length }}"
                    ></textarea>
                    <button id="analyze-button" class="analyze-button">Analyze Match</button>
                    <div id="vetting-error" class="error-message" style="display: none;"></div>
                </div>

                <div class="vetting-results" id="vetting-results">
                    <div class="overall-score">
                        <div class="score-circle" id="score-circle">
                            <span id="overall-score-value">0</span>
                            <span class="score-label">%</span>
                        </div>
                        <div class="match-category" id="match-category">Analyzing...</div>
                    </div>

                    <div class="sub-scores">
                        <div class="sub-score">
                            <div class="sub-score-label">Skills Match</div>
                            <div class="sub-score-value" id="skills-score">0%</div>
                            <div class="score-bar">
                                <div class="score-bar-fill" id="skills-bar" style="width: 0%; background-color: #19c37d;"></div>
                            </div>
                        </div>
                        <div class="sub-score">
                            <div class="sub-score-label">Experience Match</div>
                            <div class="sub-score-value" id="experience-score">0%</div>
                            <div class="score-bar">
                                <div class="score-bar-fill" id="experience-bar" style="width: 0%; background-color: #3498db;"></div>
                            </div>
                        </div>
                        <div class="sub-score">
                            <div class="sub-score-label">Role Fit</div>
                            <div class="sub-score-value" id="role-score">0%</div>
                            <div class="score-bar">
                                <div class="score-bar-fill" id="role-bar" style="width: 0%; background-color: #9b59b6;"></div>
                            </div>
                        </div>
                    </div>

                    <div class="summary-section">
                        <h3>Summary</h3>
                        <div class="summary-text" id="summary-text"></div>
                        <div class="recommendation" id="recommendation-text"></div>
                    </div>

                    <div class="strengths-gaps">
                        <div class="list-section strengths">
                            <h3>Strengths</h3>
                            <ul id="strengths-list"></ul>
                        </div>
                        <div class="list-section gaps">
                            <h3>Areas to Address</h3>
                            <ul id="gaps-list"></ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        ProfileGPT v{{ version }}
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
